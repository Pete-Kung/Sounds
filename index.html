<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Music Pad with Sync</title>
    <link rel="stylesheet" href="style.css" />
    <script src="./slider.js"></script>
    <script src="./encoder.js"></script>
  </head>

  <body>
    <div
      class="bpm-control"
      style="
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 10px;
        background-color: #1a202c;
        padding: 10px 15px;
        border-radius: 8px;
        font-family: sans-serif;
        color: white;
        font-size: 14px;
        max-width: 100%;
        margin-left: 0;
        box-sizing: border-box;
      "
    >
      <input
        type="number"
        id="bpmSlider"
        value="120"
        min="60"
        max="200"
        style="
          width: 100px;
          padding: 5px 8px;
          background-color: #2d3748;
          color: white;
          border: 1px solid #4a5568;
          border-radius: 4px;
          flex-shrink: 0;
        "
      />
      <button
        id="confirmBPM"
        style="
          padding: 6px 12px;
          background-color: #2b6cb0;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          flex-shrink: 0;
        "
      >
        Confirm
      </button>
      <div style="display: flex; align-items: center; flex-shrink: 0">
        <span id="bpmValue" style="font-weight: bold; margin-right: 4px"
          >124</span
        >
        BPM
      </div>
    </div>
    <div style="width: 100%; display: flex; justify-content: flex-start;">
      <div
        style="
          display: flex;
          gap: 10px;
          background-color: #1a202c;
          padding: 10px 15px;
          border-radius: 8px;
        "
      >
      <button class="template-btn" data-key="A" onclick="changeTemplate(this, 'A')">A</button>
      <button class="template-btn" data-key="B" onclick="changeTemplate(this, 'B')">B</button>
      <button class="template-btn" data-key="C" onclick="changeTemplate(this, 'C')">C</button>
      <button class="template-btn" data-key="D" onclick="changeTemplate(this, 'D')">D</button>
      
      </div>
    </div>
    
    <div style="height: 20px"></div>
    <div></div>

    <div id="padsContainer" class="pads-container" >
          <h1>Sound Wave Animation</h1>
    <canvas id="waveformCanvas" width="800" height="400" style="border: 1px solid black;"></canvas>
      <div
     
        style="
          display: flex;
          flex-direction: row;
          justify-content: center;
          align-items: flex-start;
          flex-wrap: wrap;
          gap: 1rem;
          padding: 1rem;
        "
      >
        <!-- Preset Selector + Encoders -->
        <div
          style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center"
        >
        <!-- Pitch-Shift การเปลี่ยนความสูงต่ำของเสียงโดยไม่กระทบกับความเร็วของเสียง
เช่น ทำให้เสียง “สูงขึ้น” หรือ “ต่ำลง”-->
        <!-- <midi-encoder
        label="Pitch-Shift"
        colour="#e67e22"
        data-category="pitchShiftContainer"
        init="0"
      ></midi-encoder> -->
          <midi-encoder
            label="Drum #"
            colour="#27ae60"
            data-category="drumContainer"
            init="100"
          ></midi-encoder>
          <midi-encoder
            label="Bass #"
            colour="#27ae60"
            data-category="bassContainer"
            init="100"
          ></midi-encoder>
          <midi-encoder
            label="Pad #"
            colour="#27ae60"
            data-category="padContainer"
            init="100"
          ></midi-encoder>
          <midi-encoder
            label="Synth #"
            colour="#27ae60"
            data-category="synthContainer"
            init="100"
          ></midi-encoder>
          <midi-encoder
            label="FX #"
            colour="#27ae60"
            data-category="fxContainer"
            init="100"
          ></midi-encoder>
        </div>

        <!-- Beat Indicator + Stop All Button -->
        <div
          style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center"
        >
          <div
            id="beatIndicator"
            style="display: flex; gap: 6px; align-items: center"
          >
            <div
              class="beat"
              data-index="0"
              style="
                width: 16px;
                height: 16px;
                background-color: #27ae60;
                border-radius: 50%;
                opacity: 0.3;
              "
            ></div>
            <div
              class="beat"
              data-index="1"
              style="
                width: 16px;
                height: 16px;
                background-color: #27ae60;
                border-radius: 50%;
                opacity: 0.3;
              "
            ></div>
            <div
              class="beat"
              data-index="2"
              style="
                width: 16px;
                height: 16px;
                background-color: #27ae60;
                border-radius: 50%;
                opacity: 0.3;
              "
            ></div>
            <div
              class="beat"
              data-index="3"
              style="
                width: 16px;
                height: 16px;
                background-color: #27ae60;
                border-radius: 50%;
                opacity: 0.3;
              "
            ></div>
          </div>
          <button id="stopAllBtn">🛑 Stop All</button>
        </div>
      </div>

      <div class="category">
        <!-- <div style="display: flex; gap: 10px; align-items: center;"> -->
        <!-- <input type="range" min="0" max="1" step="0.01" value="1" data-category="drumContainer"
          class="volumeSlider"> -->

        <!-- <div style="height: auto; width: 100%; display: flex; gap: 10px;"> -->
        <!-- <midi-slider label="Drum #" colour="#A82BE8" type="vertical" data-id="slider1" data-category="drumContainer" init="100"></midi-slider>
          <midi-slider label="Drum #" colour="#2BA8E8" type="horizontal" data-id="slider2" data-category="drumContainer" init="100"></midi-slider> -->

        <!-- </div> -->
        <!-- </div> -->
        <div class="padContainer" id="drumContainer"></div>
      </div>
      <div class="category">
        <div class="padContainer" id="bassContainer"></div>
      </div>

      <div class="category">
        <div class="padContainer" id="padContainer"></div>
      </div>
      <div class="category">
        <div class="padContainer" id="synthContainer"></div>
      </div>
<div style="height: 50px;width: 100%; display: flex; justify-content: center;"><p>FX</p></div>
      <div class="category">
        <div class="padContainer" id="fxContainer"></div>
      </div>
    </div>

    <div id="padsContainerB" class="pads-container" style="display: none; width: 80%;">

  <div style="width: 100%;   margin: 0 auto; background: #2c003e; border-radius: 20px; padding: 20px; font-family: sans-serif;">
    
    <!-- Header Tabs -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <div style="display: flex; gap: 10px;">
        <button id="tab-sample" style="padding: 6px 12px; background: #ff4b6e; border: none; border-radius: 6px; color: white;">SAMPLE</button>
        <button id="tab-sequence" style="padding: 6px 12px; background: transparent; border: none; color: white;">SEQUENCE</button>
        <button id="tab-perform" style="padding: 6px 12px; background: transparent; border: none; color: white;">PERFORM</button>
      </div>
      <!-- <button id="menu-button" style="background: transparent; border: none; color: white;">☰</button> -->
    </div>

    <!-- Controls -->
<div style="display: flex; justify-content: center; gap: 30px; margin-bottom: 10px;">
  <div id="listen-mode" style="width: 60px; height: 60px; background: #141414; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff;">🎧</div>
  <div id="record-mode" style="width: 60px; height: 60px; background: #141414; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff;">🎤</div>
</div>


 <!-- Pad Grid -->
<div id="pad-grid" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px;">
  <!-- ปุ่ม Pad 1-8 -->
<div id="pad-1" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
  <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; z-index: 1; pointer-events: auto;"></canvas>
</div>


  <div id="pad-2" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-3" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-4" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-5" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-6" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-7" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>

  <div id="pad-8" class="pad-button" style="background: #00d8ff; aspect-ratio: 1 / 1; border-radius: 10px; cursor: pointer; position: relative;">
    <canvas width="100" height="100" style="position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none;"></canvas>
  </div>
</div>


  </div>
    </div>

    <div id="padsContainerC" class="pads-container" style="display: none;">เนื้อหา Template C</div>
    <div id="padsContainerD" class="pads-container" style="display: none;">เนื้อหา Template D</div>
    <!--  -->
    <!-- <button onclick="toggleMuteGroup('bassContainer')">Toggle Bass Mute</button> -->
    <div
      style="
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        width: 100%;
        margin-top: 30px;
        margin-bottom: 30px;
        gap: 20px;
        font-family: sans-serif;
        color: white;
        padding: 20px;
        border-radius: 10px;
      "
    >
      <!-- Save & Load Preset -->
      <div style="display: flex; align-items: center; gap: 10px">
        <button
          onclick="savePreset()"
          style="
            padding: 10px 16px;
            background-color: #2b6cb0;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Save Preset
        </button>
        <select
          id="presetSelector"
          style="
            padding: 8px 12px;
            border-radius: 6px;
            background-color: #2d3748;
            color: white;
            border: 1px solid #4a5568;
          "
        >
          <option value="">-- เลือก Preset --</option>
        </select>
        <button
          id="loadPresetBtn"
          style="
            padding: 10px 16px;
            background-color: #38a169;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Play Preset
        </button>
      </div>

      <!-- Clear & Delete Preset -->
      <div style="display: flex; align-items: center; gap: 10px">
        <button
          onclick="clearPreset()"
          style="
            padding: 10px 16px;
            background-color: #e53e3e;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Clear All Preset
        </button>
        <select
          id="deletePresetSelector"
          style="
            padding: 8px 12px;
            border-radius: 6px;
            background-color: #2d3748;
            color: white;
            border: 1px solid #4a5568;
          "
        >
          <option value="">-- เลือก Preset ที่จะลบ --</option>
        </select>
        <button
          onclick="deleteSelectedPreset()"
          style="
            padding: 10px 16px;
            background-color: #dd6b20;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          ลบ Preset ที่เลือก
        </button>
      </div>

      <!-- Export & Import Preset -->
      <div style="display: flex; align-items: center; gap: 10px">
        <button
          onclick="exportSelectedPreset()"
          style="
            padding: 10px 16px;
            background-color: #805ad5;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Export Preset
        </button>

        <select
          id="exportPresetSelect"
          style="
            padding: 8px 12px;
            border-radius: 6px;
            background-color: #2d3748;
            color: white;
            border: 1px solid #4a5568;
          "
        >
          <option value="" disabled selected>
            -- เลือก Preset ที่จะ Export --
          </option>
        </select>

        <input
          type="file"
          id="importPresetFile"
          accept=".json"
          onchange="importPreset(event)"
          style="display: none"
        />
        <button
          onclick="document.getElementById('importPresetFile').click()"
          style="
            padding: 10px 16px;
            background-color: #4299e1;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
          "
        >
          Import Preset
        </button>
      </div>
    </div>

    <script src="script.js"></script>
    <script src="soundpad.js"></script>
    <script src="padsContainerB.js"></script>

    <!-- <script>
 
</script> -->



  </body>
</html>
